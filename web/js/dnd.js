function allowDrop(e){e.preventDefault(),e.target.classList.add("drop-fx")}
function dragstart(e){e.dataTransfer.setData("text",e.target.id),e.dataTransfer.dropEffect="move",e.target.style.opacity="0.4"}
function dragend(e){e.target.style.opacity="1"}
function drop(e){e.preventDefault();var t=e.dataTransfer.getData("text"),r=e.target.closest("ul");document.querySelectorAll(".dnd-area .drop-fx").forEach(function(e){e.classList.remove("drop-fx")}),e.target==r?r.appendChild(document.getElementById(t)):(nli=e.toElement.closest("li"),r.insertBefore(document.getElementById(t),nli));var a=[];if((content=r.querySelectorAll("li")).forEach(function(e){a.push(e.innerText.trim())}),"lstock"==r.closest("div").id){var l=make_dropable(uniquesort(a),"ul");document.querySelector("#lstock").innerHTML="",document.querySelector("#lstock").append(l);var o=document.querySelector("#lstack ul").querySelectorAll("li"),a=[];o.forEach(function(e){a.push(e.innerText.trim())})}document.getElementById("lead_view").value=a.toString().replace(/\,/g,", "),tp_leadsave()}